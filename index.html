<!DOCTYPE html>
<html>
<head>
    <title>Snake Game</title>
    <style>
        /* CSS styles for the game board and cells */
        #board {
            display: grid;
            grid-template-columns: repeat(40, 20px);
            grid-template-rows: repeat(40, 20px);
            grid-gap: 1px;
            background-color: #333;
            padding: 10px;
        }

        .cell {
            background-color: #555;
        }

        .snake {
            background-color: #fff;
        }

        .snake-head {
            background-color: #f00;
        }

        .food {
            background-color: #0f0;
            border-radius: 50%;
        }

        /* CSS styles for the leaderboard */
        #leaderboard {
            margin-top: 20px;
            font-family: Arial, Arial;
            font-size: 18px;
            color: #333;
            list-style-type: none;
            padding-left: 0;
        }

        #leaderboard li {
            padding: 5px;
        }

        #leaderboard li.gold {
            background-color: gold;
            font-weight: bold;
        }

        #leaderboard li.silver {
            background-color: silver;
            font-weight: bold;
        }

        #leaderboard li.copper {
            background-color: #b87333;
            font-weight: bold;
        }

        /* CSS styles for the message banner */
        #message-banner {
            background-color: #f44336;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        #message-banner.error {
            background-color: #f44336;
        }

        #message-banner.success {
            background-color: #4caf50;
        }
    </style>
</head>
<body>
    <h1 style="font-family: 'Arial', sans-serif;">Snake Game</h1>
    <div id="message-banner"></div>
    <div id="board"></div>
    <h2 style="font-family: 'Arial', sans-serif;">Leaderboard</h2>
    <ol id="leaderboard"></ol>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        (function() {
            // Initialize Firebase
            var config = {
               apiKey: "AIzaSyB1M9ls0nG53WkAPC0li6QJ4Q285eAgD2s",
  authDomain: "snake-a33ae.firebaseapp.com",
  databaseURL: "https://snake-a33ae-default-rtdb.firebaseio.com",
  projectId: "snake-a33ae",
  storageBucket: "snake-a33ae.appspot.com",
  messagingSenderId: "547410064030",
  appId: "1:547410064030:web:f09be13f5df5d02cdd418f",
  measurementId: "G-6YZFDS5HQ0"
            };
            firebase.initializeApp(config);

            var boardSize = 40;
            var snake = [{ x: 20, y: 20 }];
            var direction = { x: 0, y: 0 };
            var food = { x: 25, y: 20 };
            var moveInterval = 150; // Adjust this value to control the speed and smoothness
            var gameOverFlag = false;

            // Function to create the game board
            function createBoard() {
                var board = document.getElementById("board");
                for (var y = 0; y < boardSize; y++) {
                    for (var x = 0; x < boardSize; x++) {
                        var cell = document.createElement("div");
                        cell.classList.add("cell");
                        cell.id = "cell-" + x + "-" + y;
                        board.appendChild(cell);
                    }
                }
            }

            // Function to draw the game state
            function drawGame() {
                var board = document.getElementById("board");
                var cells = board.getElementsByClassName("cell");

                // Clear previous game state
                for (var i = 0; i < cells.length; i++) {
                    cells[i].classList.remove("snake", "snake-head", "food");
                }

                // Draw snake
                for (var i = 0; i < snake.length; i++) {
                    var cell = document.getElementById("cell-" + snake[i].x + "-" + snake[i].y);
                    if (i === 0) {
                        cell.classList.add("snake-head");
                    } else {
                        cell.classList.add("snake");
                    }
                }

                // Draw food
                var foodCell = document.getElementById("cell-" + food.x + "-" + food.y);
                foodCell.classList.add("food");
            }
// Function to initialize the game
function initGame() {
    createBoard();
    drawGame();

    // Start game loop
    setInterval(updateGame, moveInterval);

    // Show message constantly
    setInterval(function() {
        showMessage("PLEASE DON'T CHEAT OR PUT BAD WORDS AS YOUR NAME", "success");
    }, 3000); // Adjust the interval (in milliseconds) as needed
}

// Initialize the game
initGame();

            // Function to handle keyboard input
            function handleKeyPress(event) {
                if (event.keyCode === 37 && direction.x !== 1) {
                    // Left arrow key
                    direction = { x: -1, y: 0 };
                } else if (event.keyCode === 38 && direction.y !== 1) {
                    // Up arrow key
                    direction = { x: 0, y: -1 };
                } else if (event.keyCode === 39 && direction.x !== -1) {
                    // Right arrow key
                    direction = { x: 1, y: 0 };
                } else if (event.keyCode === 40 && direction.y !== -1) {
                    // Down arrow key
                    direction = { x: 0, y: 1 };
                }
            }

            // Function to update the game state
            function updateGame() {
                if (gameOverFlag) {
                    return; // Game over
                }

                // Update snake position
                var head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };
                snake.unshift(head);

                // Check for collision with walls or self
                if (
                    head.x < 0 ||
                    head.y < 0 ||
                    head.x >= boardSize ||
                    head.y >= boardSize ||
                    snake.slice(1).some(function(segment) {
                        return segment.x === head.x && segment.y === head.y;
                    })
                ) {
                    gameOver();
                    return;
                }

                // Check for food
                if (head.x === food.x && head.y === food.y) {
                    // Generate new food position
                    var occupiedCells = snake.concat([food]);
                    var emptyCells = [];
                    for (var x = 0; x < boardSize; x++) {
                        for (var y = 0; y < boardSize; y++) {
                            if (!occupiedCells.some(function(segment) {
                                return segment.x === x && segment.y === y;
                            })) {
                                emptyCells.push({ x: x, y: y });
                            }
                        }
                    }
                    food = emptyCells[Math.floor(Math.random() * emptyCells.length)];
                } else {
                    // Remove tail segment
                    snake.pop();
                }

                drawGame();
            }

            // Function to end the game
            function gameOver() {
                if (snake.length <= 1 || gameOverFlag) {
                    return; // Game already over or dialog shown
                }

                gameOverFlag = true;

                var score = snake.length - 1;
                var name = prompt("Game over! Your score: " + score + "\n\nEnter your name:");

                if (name && name.trim().length > 0) {
                    // Store score in leaderboard
                    var leaderboardRef = firebase.database().ref("leaderboard");
                    leaderboardRef.push({ name: name.trim(), score: score });

                    // Display leaderboard
                    displayLeaderboard();
                }

                // Show game over message
                var messageBanner = document.getElementById("message-banner");
                messageBanner.innerHTML = "Game over! Your score: " + score;
                messageBanner.classList.add("error");
            }

            // Function to display the leaderboard
            function displayLeaderboard() {
                var leaderboardRef = firebase.database().ref("leaderboard").orderByChild("score").limitToLast(10);
                leaderboardRef.once("value", function(snapshot) {
                    var leaderboard = document.getElementById("leaderboard");
                    leaderboard.innerHTML = "";

                    snapshot.forEach(function(childSnapshot) {
                        var childData = childSnapshot.val();

                        var listItem = document.createElement("li");
                        listItem.textContent = childData.name + " - " + childData.score;

                        if (childData.score >= 10) {
                            listItem.classList.add("gold");
                        } else if (childData.score >= 5) {
                            listItem.classList.add("silver");
                        } else {
                            listItem.classList.add("copper");
                        }

                        leaderboard.appendChild(listItem);
                    });
                });
            }

            // Function to start the game
            function startGame() {
                createBoard();
                drawGame();

                // Add event listener for keyboard input
                document.addEventListener("keydown", handleKeyPress);

                // Start game loop
                setInterval(updateGame, moveInterval);
            }

            // Start the game
            startGame();
        })();
    </script>
</body>
</html>
